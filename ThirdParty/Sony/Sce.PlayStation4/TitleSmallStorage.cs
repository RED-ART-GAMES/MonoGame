//----------------------------------------------------------------------------
// This is autogenerated code by CppSharp.
// Do not edit this file or all your changes will be lost after re-generation.
//----------------------------------------------------------------------------
using System;
using System.Runtime.InteropServices;
using System.Security;

namespace Sce.PlayStation4
{
    namespace Network
    {
        public enum TitleSmallStorageResult
        {
            Ok = 0,
            ErrorNpInvalidArgument = -2141913085,
            ErrorNpSignedOut = -2141913082,
            ErrorNpUserNotFound = -2141913081,
            ErrorNpUserNotSignedUp = -2141913078,
            ErrorNotInitialized = -2141911294,
            ErrorOutOfMemory = -2141911293,
            ErrorInvalidArgument = -2141911292,
            ErrorTooManyObjects = -2141911290,
            ErrorAborted = -2141911289,
            ErrorBodyTooLarge = -2141911287,
            ErrorInsufficientArgument = -2141911284,
            ErrorInvalidId = -2141911282
        }

        public enum TitleSmallStorageStatus
        {
            Ok = 0,
            Partial = 1,
            NotModified = 2
        }

        public unsafe partial class TitleSmallStorage : IDisposable
        {
            [StructLayout(LayoutKind.Explicit, Size = 40)]
            public partial struct Internal
            {
                [SuppressUnmanagedCodeSecurity]
                [DllImport("scePlayStation4.prx", CallingConvention = global::System.Runtime.InteropServices.CallingConvention.Cdecl,
                    EntryPoint="_ZN7Network17TitleSmallStorageC2ERKS0_")]
                internal static extern void cctor_0(global::System.IntPtr instance, global::System.IntPtr _0);

                [SuppressUnmanagedCodeSecurity]
                [DllImport("scePlayStation4.prx", CallingConvention = global::System.Runtime.InteropServices.CallingConvention.Cdecl,
                    EntryPoint="_ZN7Network17TitleSmallStorageC2Ev")]
                internal static extern void ctor_1(global::System.IntPtr instance);

                [SuppressUnmanagedCodeSecurity]
                [DllImport("scePlayStation4.prx", CallingConvention = global::System.Runtime.InteropServices.CallingConvention.Cdecl,
                    EntryPoint="_ZN7Network17TitleSmallStorageD2Ev")]
                internal static extern void dtor_0(global::System.IntPtr instance);

                [SuppressUnmanagedCodeSecurity]
                [DllImport("scePlayStation4.prx", CallingConvention = global::System.Runtime.InteropServices.CallingConvention.Cdecl,
                    EntryPoint="_ZN7Network17TitleSmallStorage13CreateContextEij")]
                internal static extern Network.TitleSmallStorageResult CreateContext_0(global::System.IntPtr instance, int userId, uint serviceLabel);

                [SuppressUnmanagedCodeSecurity]
                [DllImport("scePlayStation4.prx", CallingConvention = global::System.Runtime.InteropServices.CallingConvention.Cdecl,
                    EntryPoint="_ZN7Network17TitleSmallStorage7GetDataEiPvmPm")]
                internal static extern Network.TitleSmallStorageResult GetData_0(global::System.IntPtr instance, int slotId, void* buffer, ulong bufferSize, ulong* recvdSize);
            }

            public global::System.IntPtr __Instance { get; protected set; }

            internal TitleSmallStorage(TitleSmallStorage.Internal* native)
                : this(new global::System.IntPtr(native))
            {
            }

            internal TitleSmallStorage(TitleSmallStorage.Internal native)
                : this(&native)
            {
            }

            public TitleSmallStorage(global::System.IntPtr native, bool isInternalImpl = false)
            {
                __Instance = native;
            }

            protected TitleSmallStorage()
            {
                __Instance = Marshal.AllocHGlobal(40);
                Internal.ctor_1(__Instance);
            }

            public void Dispose()
            {
                Dispose(disposing: true);
                GC.SuppressFinalize(this);
            }

            protected virtual void Dispose(bool disposing)
            {
                Internal.dtor_0(__Instance);
                Marshal.FreeHGlobal(__Instance);
            }

            protected Network.TitleSmallStorageResult CreateContext(int userId, uint serviceLabel)
            {
                var arg0 = userId;
                var arg1 = serviceLabel;
                var __ret = Internal.CreateContext_0(__Instance, arg0, arg1);
                return __ret;
            }

            protected Network.TitleSmallStorageResult GetData(int slotId, void* buffer, ulong bufferSize, out ulong recvdSize)
            {
                var arg0 = slotId;
                var arg1 = buffer;
                var arg2 = bufferSize;
                ulong _recvdSize;
                var arg3 = &_recvdSize;
                var __ret = Internal.GetData_0(__Instance, arg0, arg1, arg2, arg3);
                recvdSize = _recvdSize;
                return __ret;
            }
        }
    }
}
